const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MarketOverviewSection-BYCreuHo.js","assets/index-Bm4Ux-n8.js","assets/index-C9OVJHvA.css","assets/ErrorBoundary-lqg5wBrO.js","assets/DeepCoinAnalysisSection-D61eIWxu.js","assets/card-CWRAK8xa.js","assets/AdvancedMetricsSection-85s2NaRx.js","assets/CommunityToolsSection-B_EalquV.js"])))=>i.map(i=>d[i]);
import{c as R,j as e,u as M,f as z,J as v,a as O,b as V,r as h,d as B,e as K,S as Q,_,g as F,N,h as w}from"./index-Bm4Ux-n8.js";/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=R("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j=R("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),C=()=>e.jsxs("header",{className:"mb-8",children:[e.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center",children:[e.jsx(G,{className:"w-8 h-8 mr-3 text-primary"}),"Advanced Crypto Analytics"]}),e.jsx("p",{className:"text-muted-foreground",children:"In-depth market intelligence, coin analysis, and predictive insights."})]}),H=()=>{const r={retry:(c,p)=>p.message.includes("429")?(c===0&&v.warning("API rate limit hit. Retrying..."),c<3):p.message.includes("404")?!1:c<2,retryDelay:(c,p)=>p.message.includes("429")?Math.min(1e3*2**c,3e4)+Math.random()*200:1e3*(c+1)},{data:t,isLoading:o,error:s}=M({queryKey:["advancedMarketData"],queryFn:z,staleTime:1e3*60*5,refetchInterval:1e3*60*10,...r,meta:{onError:c=>{v.error(`Market Data Error: ${c.message}`)}}}),{data:a,isLoading:g,error:u}=M({queryKey:["trendingCoinsAnalytics"],queryFn:O,staleTime:1e3*60*30,refetchInterval:1e3*60*45,...r,meta:{onError:c=>{v.error(`Trending Coins Error: ${c.message}`)}}}),{data:x,isLoading:y,error:d}=M({queryKey:["exchangesAnalytics"],queryFn:V,staleTime:1e3*60*60,refetchInterval:1e3*60*90,...r,meta:{onError:c=>{v.error(`Exchanges Data Error: ${c.message}`)}}}),l=o||g||y,n={};s&&(n.marketDataError=s),u&&(n.trendingCoinsError=u),d&&(n.exchangesError=d);const f=s||u||d;return{data:{marketData:t,trendingCoins:a==null?void 0:a.coins,exchanges:x},isLoading:l,error:f,errors:n}},U=(r,t)=>{if(!r||!t||r.length!==t.length||r.length===0)return 0;const o=r.length,s=r.reduce((l,n)=>l+n,0),a=t.reduce((l,n)=>l+n,0),g=r.reduce((l,n)=>l+n*n,0),u=t.reduce((l,n)=>l+n*n,0),y=r.reduce((l,n,f)=>l+n*t[f],0)-s*a/o,d=Math.sqrt((g-s*s/o)*(u-a*a/o));return d===0?0:y/d},q=r=>{if(!r||r.length<2)return 0;const t=r.reduce((s,a)=>s+a,0)/r.length;if(t===0)return 0;const o=r.reduce((s,a)=>s+Math.pow(a-t,2),0)/r.length;return Math.sqrt(o)/t*100},$=K("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),k=h.forwardRef(({className:r,variant:t,size:o,asChild:s=!1,...a},g)=>{const u=s?Q:"button";return e.jsx(u,{className:B($({variant:t,size:o,className:r})),ref:g,...a})});k.displayName="Button";const J=h.lazy(()=>_(()=>import("./MarketOverviewSection-BYCreuHo.js"),__vite__mapDeps([0,1,2,3]))),Z=h.lazy(()=>_(()=>import("./DeepCoinAnalysisSection-D61eIWxu.js"),__vite__mapDeps([4,1,2,5,3]))),W=h.lazy(()=>_(()=>import("./AdvancedMetricsSection-85s2NaRx.js"),__vite__mapDeps([6,1,2,5,3]))),X=h.lazy(()=>_(()=>import("./CommunityToolsSection-B_EalquV.js"),__vite__mapDeps([7,1,2,5,3]))),b=({title:r})=>e.jsxs("div",{className:"mb-10",children:[e.jsx(w,{className:"h-8 w-1/3 mb-6"}),e.jsxs("div",{className:"space-y-8",children:[e.jsx(w,{className:"h-48 w-full rounded-lg"}),e.jsx(w,{className:"h-32 w-full rounded-lg"})]}),e.jsxs("p",{className:"text-center py-4 text-muted-foreground",children:["Loading ",r,"..."]})]}),Y=()=>{var A,L;const r=F(),{data:t,isLoading:o,errors:s}=H(),{marketData:a,trendingCoins:g,exchanges:u}=t||{},x=()=>{v.info("Refreshing analytics data...",{id:"analytics-refresh"}),r.invalidateQueries({queryKey:["advancedMarketData"]}),r.invalidateQueries({queryKey:["trendingCoinsAnalytics"]}),r.invalidateQueries({queryKey:["exchangesAnalytics"]})},y=(s==null?void 0:s.marketDataError)&&!a;if(o&&!(t!=null&&t.marketData)&&!(t!=null&&t.trendingCoins)&&!(t!=null&&t.exchanges))return e.jsx("div",{className:"min-h-screen bg-background p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx(N,{}),e.jsx(C,{}),e.jsx("div",{className:"flex justify-end my-4",children:e.jsxs(k,{onClick:x,variant:"outline",disabled:!0,children:[e.jsx(j,{className:"mr-2 h-4 w-4 animate-spin"}),"Refreshing..."]})}),e.jsx("div",{className:"text-center py-10",children:"Loading advanced analytics..."})]})});if(y)return e.jsx("div",{className:"min-h-screen bg-background p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx(N,{}),e.jsx(C,{}),e.jsx("div",{className:"flex justify-end my-4",children:e.jsxs(k,{onClick:x,variant:"outline",children:[e.jsx(j,{className:"mr-2 h-4 w-4"}),"Refresh Data"]})}),e.jsxs("div",{className:"text-center py-10 text-red-500",children:["Error loading critical market data: ",s.marketDataError.message,". Some features might be unavailable. Please try refreshing. Individual component errors may also appear below or as toasts."]})]})});const d=!!(s!=null&&s.marketDataError&&!a),l=(L=(A=a==null?void 0:a.find(i=>i.id==="bitcoin"))==null?void 0:A.sparkline_in_7d)==null?void 0:L.price,n=a&&l?a.slice(1,6).map(i=>{var m;return{name:i.name,symbol:i.symbol.toUpperCase(),correlation:U(l,(m=i.sparkline_in_7d)==null?void 0:m.price)}}):[],f=a?a.slice(0,10).map(i=>{var m;return{name:i.symbol.toUpperCase(),volatility:q((m=i.sparkline_in_7d)==null?void 0:m.price),price:i.current_price}}):[],c=a?[...a].sort((i,m)=>(m.price_change_percentage_24h??-1/0)-(i.price_change_percentage_24h??-1/0)):[],p=c.slice(0,5),S=c.slice(-5).reverse(),I=a?a.slice(0,9).map(i=>{var D;const m=q((D=i.sparkline_in_7d)==null?void 0:D.price),E=m>15?"High":m>8?"Medium":"Low",T=E==="High"?"text-red-400":E==="Medium"?"text-yellow-400":"text-green-400";return{id:i.id,image:i.image,symbol:i.symbol.toUpperCase(),current_price:i.current_price,price_change_percentage_24h:i.price_change_percentage_24h??0,riskLevel:E,riskColor:T}}):[];return e.jsx("div",{className:"min-h-screen bg-background p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx(N,{}),e.jsx(C,{}),e.jsx("div",{className:"flex justify-end my-4",children:e.jsxs(k,{onClick:x,variant:"outline",disabled:o,children:[o?e.jsx(j,{className:"mr-2 h-4 w-4 animate-spin"}):e.jsx(j,{className:"mr-2 h-4 w-4"}),o?"Refreshing...":"Refresh Data"]})}),e.jsx(h.Suspense,{fallback:e.jsx(b,{title:"Market Overview"}),children:e.jsx(J,{trendingCoins:g,exchanges:u,marketData:a,isLoadingGlobal:o,errors:s,marketDataUnavailable:d})}),e.jsx(h.Suspense,{fallback:e.jsx(b,{title:"Deep Coin Analysis"}),children:e.jsx(Z,{marketData:a,isLoadingGlobal:o,errors:s,marketDataUnavailable:d})}),e.jsx(h.Suspense,{fallback:e.jsx(b,{title:"Advanced Metrics & Predictive Insights"}),children:e.jsx(W,{marketData:a,correlationData:n,volatilityData:f,topGainers:p,topLosers:S,riskAssessmentData:I,isLoadingGlobal:o,errors:s,marketDataUnavailable:d})}),e.jsx(h.Suspense,{fallback:e.jsx(b,{title:"Community & Tools"}),children:e.jsx(X,{})})]})})},ee=Object.freeze(Object.defineProperty({__proto__:null,default:Y},Symbol.toStringTag,{value:"Module"}));export{ee as A,k as B,j as R};
