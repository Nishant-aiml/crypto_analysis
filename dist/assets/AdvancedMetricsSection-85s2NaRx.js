import{c as p,j as e,i as A,m as L,R as y,B as N,X as v,Y as k,l as w,p as T,A as D,T as B,r as o,d,u as $,J as I}from"./index-Bm4Ux-n8.js";import{C as E,a as M,b as F,c as P}from"./card-CWRAK8xa.js";import{R as O}from"./Analytics-CHfyoLEq.js";import{E as h}from"./ErrorBoundary-lqg5wBrO.js";/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=p("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=p("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=p("GitCompareArrows",[["circle",{cx:"5",cy:"6",r:"3",key:"1qnov2"}],["path",{d:"M12 6h5a2 2 0 0 1 2 2v7",key:"1yj91y"}],["path",{d:"m15 9-3-3 3-3",key:"1lwv8l"}],["circle",{cx:"19",cy:"18",r:"3",key:"1qljk2"}],["path",{d:"M12 18H7a2 2 0 0 1-2-2V9",key:"16sdep"}],["path",{d:"m9 15 3 3-3 3",key:"1m3kbl"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=p("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=p("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=p("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),K=({topGainers:t,topLosers:a})=>{const s=r=>r.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:r>1?2:6});return e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[e.jsxs("div",{className:"glass-card p-6 rounded-lg",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[e.jsx(A,{className:"w-5 h-5 mr-2 text-green-400"}),"Top Gainers (24h)"]}),e.jsx("div",{className:"space-y-3",children:t.map(r=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-500/10 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("img",{src:r.image,alt:r.name,className:"w-8 h-8"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:r.symbol.toUpperCase()}),e.jsx("div",{className:"text-sm text-muted-foreground",children:r.name})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-medium",children:["$",s(r.current_price)]}),e.jsxs("div",{className:"text-green-400",children:[(r.price_change_percentage_24h??0).toFixed(2),"%"]})]})]},r.id))})]}),e.jsxs("div",{className:"glass-card p-6 rounded-lg",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[e.jsx(L,{className:"w-5 h-5 mr-2 text-red-400"}),"Top Losers (24h)"]}),e.jsx("div",{className:"space-y-3",children:a.map(r=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-500/10 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("img",{src:r.image,alt:r.name,className:"w-8 h-8"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:r.symbol.toUpperCase()}),e.jsx("div",{className:"text-sm text-muted-foreground",children:r.name})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-medium",children:["$",s(r.current_price)]}),e.jsxs("div",{className:"text-red-400",children:[(r.price_change_percentage_24h??0).toFixed(2),"%"]})]})]},r.id))})]})]})},J=({correlationData:t,volatilityData:a})=>e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[e.jsxs("div",{className:"glass-card p-6 rounded-lg",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Bitcoin Correlation Analysis"}),e.jsx("div",{className:"h-[300px]",children:e.jsx(y,{width:"100%",height:"100%",children:e.jsxs(N,{data:t,children:[e.jsx(v,{dataKey:"symbol",stroke:"#E6E4DD",fontSize:12}),e.jsx(k,{stroke:"#E6E4DD",fontSize:12,domain:[-1,1]}),e.jsx(w,{contentStyle:{background:"#3A3935",border:"1px solid #605F5B",borderRadius:"8px"},labelStyle:{color:"#E6E4DD"}}),e.jsx(T,{dataKey:"correlation",fill:"#8989DE"})]})})}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Correlation with Bitcoin (1 = perfect positive, -1 = perfect negative)"})]}),e.jsxs("div",{className:"glass-card p-6 rounded-lg",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[e.jsx(D,{className:"w-5 h-5 mr-2"}),"Volatility Index (7-day)"]}),e.jsx("div",{className:"h-[300px]",children:e.jsx(y,{width:"100%",height:"100%",children:e.jsxs(N,{data:a,children:[e.jsx(v,{dataKey:"name",stroke:"#E6E4DD",fontSize:12}),e.jsx(k,{stroke:"#E6E4DD",fontSize:12}),e.jsx(w,{contentStyle:{background:"#3A3935",border:"1px solid #605F5B",borderRadius:"8px"},labelStyle:{color:"#E6E4DD"},formatter:s=>[`${s.toFixed(2)}%`,"Volatility"]}),e.jsx(T,{dataKey:"volatility",fill:"#F59E0B"})]})})}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Higher values indicate more price volatility"})]})]}),W=({riskData:t})=>{const a=s=>s.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:s>1?2:6});return e.jsxs("div",{className:"glass-card p-6 rounded-lg",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[e.jsx(B,{className:"w-5 h-5 mr-2 text-yellow-400"}),"Risk Assessment Matrix"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:t.map(s=>e.jsxs("div",{className:"p-4 bg-secondary/20 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("img",{src:s.image,alt:s.symbol,className:"w-6 h-6"}),e.jsx("span",{className:"font-medium",children:s.symbol})]}),e.jsxs("div",{className:"text-sm space-y-1",children:[e.jsxs("div",{children:["Price: $",a(s.current_price)]}),e.jsxs("div",{children:["24h Change: ",e.jsxs("span",{className:s.price_change_percentage_24h>=0?"text-green-400":"text-red-400",children:[s.price_change_percentage_24h.toFixed(2),"%"]})]}),e.jsxs("div",{children:["Risk Level: ",e.jsx("span",{className:s.riskColor,children:s.riskLevel})]})]})]},s.id))})]})},X=()=>e.jsxs(E,{className:"glass-card",children:[e.jsx(M,{children:e.jsxs(F,{className:"flex items-center",children:[e.jsx(O,{className:"w-6 h-6 mr-2 text-lime-400"}),"Market Cycle Indicator (Conceptual)"]})}),e.jsxs(P,{children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"This feature aims to identify the potential current phase of the cryptocurrency market cycle (e.g., accumulation, bull run, distribution, bear market). This is a highly complex analysis and typically involves multiple data sources and models."}),e.jsxs("div",{className:"bg-secondary/20 p-4 rounded-md space-y-3",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium mb-2 flex items-center",children:[e.jsx(q,{className:"w-4 h-4 mr-2 text-lime-300"}),"Key Phases Often Identified:"]}),e.jsxs("ul",{className:"list-disc list-inside text-sm text-muted-foreground space-y-1 pl-5",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Accumulation:"})," Smart money enters, prices stabilize after a decline."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Markup (Bull Run):"})," Prices rise significantly, wider public participation."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Distribution:"})," Smart money exits, prices plateau or become volatile."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Markdown (Bear Market):"})," Prices decline, negative sentiment prevails."]})]})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium mb-2 flex items-center",children:[e.jsx(D,{className:"w-4 h-4 mr-2 text-lime-300"}),"Potential Indicators for Analysis:"]}),e.jsxs("ul",{className:"list-disc list-inside text-sm text-muted-foreground space-y-1 pl-5",children:[e.jsx("li",{children:"Historical price patterns (e.g., Wyckoff method, Elliott Wave theory)."}),e.jsx("li",{children:"Moving Average convergences/divergences (long-term vs. short-term)."}),e.jsx("li",{children:"Volume analysis across different price levels."}),e.jsx("li",{children:"On-chain data (e.g., HODL waves, exchange flows, MVRV Z-Score)."}),e.jsx("li",{children:"Market sentiment indicators (e.g., Fear & Greed Index, social sentiment)."}),e.jsx("li",{children:"Bitcoin dominance and altcoin season indicators."}),e.jsx("li",{children:"Macroeconomic factors and correlations."})]})]}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-4",children:[e.jsx(U,{className:"inline w-3 h-3 mr-1"}),"Note: Market cycle identification is not precise and is subject to interpretation. Any such tool would provide probabilistic insights, not guarantees. This component is a conceptual placeholder."]})]})]})]}),Y=()=>e.jsxs("div",{className:"glass-card p-6 rounded-lg",children:[e.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[e.jsx(z,{className:"w-5 h-5 mr-2 text-purple-400"}),"Predictive Insights"]}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"This section will feature AI-driven price predictions, market sentiment analysis, and potential future trend identification. Advanced modeling techniques will be employed to provide actionable insights."}),e.jsxs("div",{className:"bg-secondary/20 p-4 rounded-md",children:[e.jsxs("h4",{className:"font-medium mb-2 flex items-center",children:[e.jsx(H,{className:"w-4 h-4 mr-2 text-purple-300"}),"Coming Soon:"]}),e.jsxs("ul",{className:"list-disc list-inside text-sm text-muted-foreground space-y-1",children:[e.jsx("li",{children:"AI-Powered Price Forecasts"}),e.jsx("li",{children:"Sentiment Trend Analysis"}),e.jsx("li",{children:"Automated Anomaly Detection"}),e.jsx("li",{children:"Long-term Growth Potential Scores"})]})]})]}),_=o.forwardRef(({className:t,...a},s)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:s,className:d("w-full caption-bottom text-sm",t),...a})}));_.displayName="Table";const R=o.forwardRef(({className:t,...a},s)=>e.jsx("thead",{ref:s,className:d("[&_tr]:border-b",t),...a}));R.displayName="TableHeader";const S=o.forwardRef(({className:t,...a},s)=>e.jsx("tbody",{ref:s,className:d("[&_tr:last-child]:border-0",t),...a}));S.displayName="TableBody";const Z=o.forwardRef(({className:t,...a},s)=>e.jsx("tfoot",{ref:s,className:d("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...a}));Z.displayName="TableFooter";const j=o.forwardRef(({className:t,...a},s)=>e.jsx("tr",{ref:s,className:d("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...a}));j.displayName="TableRow";const g=o.forwardRef(({className:t,...a},s)=>e.jsx("th",{ref:s,className:d("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...a}));g.displayName="TableHead";const u=o.forwardRef(({className:t,...a},s)=>e.jsx("td",{ref:s,className:d("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...a}));u.displayName="TableCell";const Q=o.forwardRef(({className:t,...a},s)=>e.jsx("caption",{ref:s,className:d("mt-4 text-sm text-muted-foreground",t),...a}));Q.displayName="TableCaption";const C="bitcoin",ee=async t=>{const a=`https://api.coingecko.com/api/v3/coins/${t}/tickers?page=1&order=volume_desc`,s=`fetching arbitrage data for ${t}`;try{const r=await fetch(a);if(!r.ok){let l=`Failed ${s}. Status: ${r.status}`;if(r.status===429)l=`API rate limit (429) for ${s}. Data temporarily unavailable.`;else try{const c=await r.text();l+=` - Details: ${c.substring(0,100)||"(empty body)"}`}catch{l+=` (${r.statusText||"Failed to parse error response body"})`}throw console.error(`Error in fetchArbitrageData for ${a}: ${l}`),new Error(l)}const n=(await r.json()).tickers.filter(l=>l.trust_score==="green"&&l.volume>0).sort((l,c)=>c.volume-l.volume).slice(0,10);return{coinId:t,tickers:n}}catch(r){throw console.error(`Network or other error in fetchArbitrageData for ${a}:`,r),r instanceof Error&&r.message.includes(s.split(" (")[0].replace("fetching ",""))?r:new Error(`Network error during ${s}: ${r instanceof Error?r.message:String(r)}`)}},se=()=>{const{data:t,isLoading:a,error:s}=$({queryKey:["arbitrageData",C],queryFn:()=>ee(C),staleTime:9e5,refetchInterval:18e5,retry:(i,n)=>n.message.includes("429")||n.message.includes("404")?!1:i<2,meta:{onError:i=>{I.error(`Arbitrage Data Error: ${i.message}`)}}});if(s)return console.warn(`ArbitrageOpportunities: Not rendering due to data fetching error: ${s.message}`),null;const r=t!=null&&t.tickers&&t.tickers.length>1?t.tickers.map((i,n,l)=>{const c=l.filter((x,f)=>f!==n);let m=null;for(const x of c)if(i.last<x.last){const f=x.last-i.last,b=f/i.last*100;(!m||b>m.percentage)&&(m={buyExchange:i.market.name,buyPrice:i.last,sellExchange:x.market.name,sellPrice:x.last,profit:f,percentage:b,buyUrl:i.trade_url,sellUrl:x.trade_url})}return m}).filter(i=>i!==null&&i.percentage>.5).sort((i,n)=>n.percentage-i.percentage).slice(0,5):[];return e.jsxs(E,{className:"glass-card",children:[e.jsx(M,{children:e.jsxs(F,{className:"flex items-center",children:[e.jsx(G,{className:"w-6 h-6 mr-2 text-cyan-400"}),"Simplified Arbitrage Finder (Bitcoin)"]})}),e.jsxs(P,{children:[a&&e.jsx("p",{className:"text-center py-4",children:"Loading arbitrage data for Bitcoin..."}),!a&&t&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-muted-foreground mb-4 text-sm",children:"Potential raw price differences for Bitcoin across exchanges. Does not account for fees, slippage, or transfer times."}),r&&r.length>0?e.jsxs(_,{children:[e.jsx(R,{children:e.jsxs(j,{children:[e.jsx(g,{children:"Buy On"}),e.jsx(g,{className:"text-right",children:"Buy Price"}),e.jsx(g,{children:"Sell On"}),e.jsx(g,{className:"text-right",children:"Sell Price"}),e.jsx(g,{className:"text-right",children:"Raw Diff (%)"})]})}),e.jsx(S,{children:r.map((i,n)=>i&&e.jsxs(j,{children:[e.jsx(u,{children:i.buyUrl?e.jsx("a",{href:i.buyUrl,target:"_blank",rel:"noopener noreferrer",className:"hover:underline text-primary",children:i.buyExchange}):i.buyExchange}),e.jsxs(u,{className:"text-right text-green-400",children:["$",i.buyPrice.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),e.jsx(u,{children:i.sellUrl?e.jsx("a",{href:i.sellUrl,target:"_blank",rel:"noopener noreferrer",className:"hover:underline text-primary",children:i.sellExchange}):i.sellExchange}),e.jsxs(u,{className:"text-right text-red-400",children:["$",i.sellPrice.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),e.jsxs(u,{className:"text-right font-semibold",children:[e.jsx(A,{className:"inline w-4 h-4 mr-1 text-green-500"}),i.percentage.toFixed(2),"%"]})]},n))})]}):e.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No significant raw price differences (>0.5%) found for Bitcoin among top volume exchanges with green trust scores at the moment."}),e.jsxs("div",{className:"text-xs text-muted-foreground mt-3 flex items-center",children:[e.jsx(V,{className:"w-3 h-3 mr-1"}),e.jsx("span",{children:"Data from CoinGecko. For informational purposes only. Prices may be delayed. Trust scores indicate CoinGecko's assessment of exchange liquidity and legitimacy."})]})]}),!a&&!t&&!s&&e.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No arbitrage data available at the moment."})]})]})},le=({correlationData:t,volatilityData:a,topGainers:s,topLosers:r,riskAssessmentData:i,isLoadingGlobal:n,errors:l,marketDataUnavailable:c})=>{var m;return c&&!n?e.jsxs("section",{className:"mb-10",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-6 pb-2 border-b border-border",children:"Advanced Metrics & Predictive Insights"}),e.jsxs("div",{className:"glass-card p-6 rounded-lg text-yellow-500 text-center",children:["Advanced Metrics & Predictive Insights data is currently unavailable. ",((m=l.marketDataError)==null?void 0:m.message)||"Market data could not be loaded."]})]}):e.jsxs("section",{className:"mb-10",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-6 pb-2 border-b border-border",children:"Advanced Metrics & Predictive Insights"}),e.jsxs("div",{className:"space-y-8",children:[e.jsx(h,{fallbackMessage:"Could not load Top Performers.",children:e.jsx(K,{topGainers:s,topLosers:r})}),e.jsx(h,{fallbackMessage:"Could not load Correlation & Volatility.",children:e.jsx(J,{correlationData:t,volatilityData:a})}),e.jsx(h,{fallbackMessage:"Could not load Risk Assessment.",children:e.jsx(W,{riskData:i})}),e.jsx(h,{fallbackMessage:"Could not load Arbitrage Opportunities.",children:e.jsx(se,{})}),e.jsx(h,{fallbackMessage:"Could not load Market Cycle Indicator. (This component is read-only)",children:e.jsx(X,{})}),e.jsx(h,{fallbackMessage:"Could not load Future Outlook. (This component is read-only)",children:e.jsx(Y,{})})]})]})};export{le as default};
